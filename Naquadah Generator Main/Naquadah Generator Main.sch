EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 11
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Device:Battery_Cell BT1
U 1 1 5E9EA00B
P 1100 1450
F 0 "BT1" V 845 1500 50  0000 C CNN
F 1 "Battery_Cell" V 936 1500 50  0000 C CNN
F 2 "Connector_Wire:SolderWirePad_1x02_P3.81mm_Drill1mm" V 1100 1510 50  0001 C CNN
F 3 "~" V 1100 1510 50  0001 C CNN
	1    1100 1450
	1    0    0    -1  
$EndComp
Wire Wire Line
	7600 5350 7100 5350
Wire Wire Line
	7600 5250 7100 5250
Wire Wire Line
	7600 5150 7100 5150
$Comp
L power:GND #PWR02
U 1 1 5E9CE7F6
P 2750 1250
F 0 "#PWR02" H 2750 1000 50  0001 C CNN
F 1 "GND" H 2755 1077 50  0000 C CNN
F 2 "" H 2750 1250 50  0001 C CNN
F 3 "" H 2750 1250 50  0001 C CNN
	1    2750 1250
	1    0    0    -1  
$EndComp
Wire Wire Line
	5300 3600 5800 3600
Wire Wire Line
	7100 4050 7600 4050
Wire Wire Line
	7100 3350 7600 3350
Wire Wire Line
	7100 4350 7600 4350
$Comp
L Device:R R1
U 1 1 5EA5504B
P 3650 800
F 0 "R1" V 3850 800 50  0000 C CNN
F 1 "330" V 3750 800 50  0000 C CNN
F 2 "Naquadah_Generator:0805_2012Metric_HandSolder" V 3580 800 50  0001 C CNN
F 3 "~" H 3650 800 50  0001 C CNN
	1    3650 800 
	0    -1   -1   0   
$EndComp
$Comp
L Device:LED D1
U 1 1 5EA55051
P 3250 800
F 0 "D1" H 3250 1000 50  0000 C CNN
F 1 "LED" H 3250 900 50  0000 C CNN
F 2 "LED_THT:LED_D5.0mm" H 3250 800 50  0001 C CNN
F 3 "~" H 3250 800 50  0001 C CNN
	1    3250 800 
	1    0    0    -1  
$EndComp
Wire Wire Line
	3500 800  3400 800 
Wire Wire Line
	3800 800  3900 800 
$Sheet
S 1600 750  500  800 
U 5EA6751D
F0 "Power" 50
F1 "Power.sch" 50
F2 "5VO" I R 2100 1100 50 
F3 "GNDO" I R 2100 1200 50 
F4 "VIN" I L 1600 850 50 
F5 "GNDIN" I L 1600 950 50 
F6 "BATV" I L 1600 1350 50 
F7 "BATGND" I L 1600 1450 50 
$EndSheet
Wire Wire Line
	1100 1250 1350 1250
Wire Wire Line
	1350 1250 1350 1350
Wire Wire Line
	1350 1350 1600 1350
Wire Wire Line
	1100 1550 1350 1550
Wire Wire Line
	1350 1550 1350 1450
Wire Wire Line
	1350 1450 1600 1450
Wire Wire Line
	2100 1100 2400 1100
Wire Wire Line
	3900 800  3900 1100
Wire Wire Line
	3100 800  2950 800 
Wire Wire Line
	2100 1200 2400 1200
$Comp
L Naquadah_Generator:SW_SPST SW1
U 1 1 5EA8DC70
P 2600 800
F 0 "SW1" H 2600 1035 50  0000 C CNN
F 1 "SW_SPST" H 2600 944 50  0000 C CNN
F 2 "Connector_Wire:SolderWirePad_1x02_P3.81mm_Drill1mm" H 2600 800 50  0001 C CNN
F 3 "~" H 2600 800 50  0001 C CNN
	1    2600 800 
	1    0    0    -1  
$EndComp
Wire Wire Line
	2800 800  2800 1100
Connection ~ 3900 1100
Wire Wire Line
	3900 1100 4050 1100
Wire Wire Line
	2950 800  2950 1200
$Comp
L Naquadah_Generator:GND #PWR0101
U 1 1 5EA1BAA4
P 5050 5450
F 0 "#PWR0101" H 5050 5200 50  0001 C CNN
F 1 "GND" H 5050 5300 50  0000 C CNN
F 2 "" H 5050 5450 50  0001 C CNN
F 3 "" H 5050 5450 50  0001 C CNN
	1    5050 5450
	1    0    0    -1  
$EndComp
Wire Wire Line
	2400 1100 2400 800 
$Comp
L power:PWR_FLAG #FLG0101
U 1 1 5EA63242
P 2400 1250
F 0 "#FLG0101" H 2400 1325 50  0001 C CNN
F 1 "PWR_FLAG" H 2400 1423 50  0000 C CNN
F 2 "" H 2400 1250 50  0001 C CNN
F 3 "~" H 2400 1250 50  0001 C CNN
	1    2400 1250
	-1   0    0    1   
$EndComp
Connection ~ 2400 1200
$Comp
L power:PWR_FLAG #FLG0102
U 1 1 5EA650D8
P 3450 1150
F 0 "#FLG0102" H 3450 1225 50  0001 C CNN
F 1 "PWR_FLAG" H 3450 1323 50  0000 C CNN
F 2 "" H 3450 1150 50  0001 C CNN
F 3 "~" H 3450 1150 50  0001 C CNN
	1    3450 1150
	-1   0    0    1   
$EndComp
Text Label 7150 4350 0    50   ~ 0
HALLEFF4
Wire Wire Line
	3650 6950 3300 6950
Wire Wire Line
	3650 6850 3300 6850
Text Label 3650 6950 2    50   ~ 0
HALLEFF1
Text Label 3650 6850 2    50   ~ 0
HALLEFF2
Wire Wire Line
	5050 5350 5050 5450
$Comp
L power:GND #PWR0105
U 1 1 5EB748D0
P 3800 7250
F 0 "#PWR0105" H 3800 7000 50  0001 C CNN
F 1 "GND" H 3800 7100 50  0000 C CNN
F 2 "" H 3800 7250 50  0001 C CNN
F 3 "" H 3800 7250 50  0001 C CNN
	1    3800 7250
	1    0    0    -1  
$EndComp
Wire Wire Line
	3800 7150 3300 7150
Wire Wire Line
	3800 7150 3800 7250
Wire Wire Line
	3800 7050 3300 7050
Wire Wire Line
	3800 7050 3800 6950
$Comp
L power:+5V #PWR0106
U 1 1 5EB3B53A
P 3800 6950
F 0 "#PWR0106" H 3800 6800 50  0001 C CNN
F 1 "+5V" H 3815 7123 50  0000 C CNN
F 2 "" H 3800 6950 50  0001 C CNN
F 3 "" H 3800 6950 50  0001 C CNN
	1    3800 6950
	1    0    0    -1  
$EndComp
Wire Wire Line
	2800 1100 3450 1100
Wire Wire Line
	3450 1150 3450 1100
Connection ~ 3450 1100
Wire Wire Line
	3450 1100 3900 1100
Wire Wire Line
	2400 1250 2400 1200
Wire Wire Line
	2400 1200 2750 1200
Wire Wire Line
	2750 1250 2750 1200
Connection ~ 2750 1200
Wire Wire Line
	2750 1200 2950 1200
$Comp
L Naquadah_Generator:+5V #PWR?
U 1 1 5EB7A803
P 4050 1050
F 0 "#PWR?" H 4050 900 50  0001 C CNN
F 1 "+5V" H 4065 1223 50  0000 C CNN
F 2 "" H 4050 1050 50  0001 C CNN
F 3 "" H 4050 1050 50  0001 C CNN
	1    4050 1050
	1    0    0    -1  
$EndComp
Wire Wire Line
	4050 1050 4050 1100
Text Label 7150 5350 0    50   ~ 0
SRDATA
Text Label 7150 5250 0    50   ~ 0
SRCLK
Text Label 7150 5150 0    50   ~ 0
SRLATCH
$Sheet
S 10000 4050 500  400 
U 5ED17BA0
F0 "Shift Registers" 50
F1 "Shift Registers.sch" 50
F2 "SRLATCH" I L 10000 4150 50 
F3 "SRDATA" I L 10000 4350 50 
F4 "SRCLK" I L 10000 4250 50 
$EndSheet
Wire Wire Line
	10000 4150 9600 4150
Text Label 9600 4150 0    50   ~ 0
SRLATCH
Wire Wire Line
	10000 4250 9600 4250
Wire Wire Line
	10000 4350 9600 4350
Text Label 9600 4250 0    50   ~ 0
SRCLK
Text Label 9600 4350 0    50   ~ 0
SRDATA
$Comp
L Naquadah_Generator:ATmega32U4-AU U
U 1 1 5ED8464D
P 6450 3950
F 0 "U" H 5900 2350 50  0000 L BNN
F 1 "ATmega32U4-AU" H 5900 2300 50  0000 L CNN
F 2 "Package_QFP:TQFP-44_10x10mm_P0.8mm" H 6450 1700 50  0001 C CIN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/Atmel-7766-8-bit-AVR-ATmega16U4-32U4_Datasheet.pdf" H 6450 3950 50  0001 C CNN
	1    6450 3950
	1    0    0    -1  
$EndComp
Text Label 7150 4050 0    50   ~ 0
HALLEFF2
Text Label 7150 3650 0    50   ~ 0
HALLEFF1
Text Label 7150 3350 0    50   ~ 0
HALLEFF3
Wire Wire Line
	5800 5350 5050 5350
Wire Wire Line
	5800 3450 5050 3450
Wire Wire Line
	5050 3450 5050 3550
$Comp
L Naquadah_Generator:GND #PWR?
U 1 1 5EDBAB65
P 5050 3550
F 0 "#PWR?" H 5050 3300 50  0001 C CNN
F 1 "GND" H 5050 3400 50  0000 C CNN
F 2 "" H 5050 3550 50  0001 C CNN
F 3 "" H 5050 3550 50  0001 C CNN
	1    5050 3550
	1    0    0    -1  
$EndComp
Text Label 5300 3600 0    50   ~ 0
UCAP
$Comp
L Naquadah_Generator:C C?
U 1 1 5EDC471D
P 5300 4900
F 0 "C?" V 5350 4850 50  0000 R CNN
F 1 "22pF" V 5350 4950 50  0000 L CNN
F 2 "" H 5338 4750 50  0001 C CNN
F 3 "~" H 5300 4900 50  0001 C CNN
	1    5300 4900
	0    1    1    0   
$EndComp
$Comp
L Naquadah_Generator:C C?
U 1 1 5EDC72C2
P 5300 4600
F 0 "C?" V 5250 4550 50  0000 R CNN
F 1 "22pF" V 5250 4650 50  0000 L CNN
F 2 "" H 5338 4450 50  0001 C CNN
F 3 "~" H 5300 4600 50  0001 C CNN
	1    5300 4600
	0    1    1    0   
$EndComp
$Comp
L Naquadah_Generator:Crystal Y?
U 1 1 5EDC870C
P 5600 4750
F 0 "Y?" H 5600 4600 50  0000 C CNN
F 1 "16MHz" H 5600 4900 50  0000 C CNN
F 2 "" H 5600 4750 50  0001 C CNN
F 3 "~" H 5600 4750 50  0001 C CNN
	1    5600 4750
	0    1    1    0   
$EndComp
Wire Wire Line
	5450 4600 5600 4600
Connection ~ 5600 4600
Wire Wire Line
	5600 4600 5800 4600
Wire Wire Line
	5450 4900 5600 4900
Connection ~ 5600 4900
Wire Wire Line
	5600 4900 5800 4900
Wire Wire Line
	5150 4900 5050 4900
Wire Wire Line
	5050 4900 5050 5350
Connection ~ 5050 5350
Wire Wire Line
	5050 4900 5050 4600
Wire Wire Line
	5050 4600 5150 4600
Connection ~ 5050 4900
Wire Wire Line
	5300 4050 5800 4050
Text Label 5300 4050 0    50   ~ 0
AREF
Wire Wire Line
	5300 3250 5800 3250
Text Label 5300 3250 0    50   ~ 0
D-
Wire Wire Line
	5300 3150 5800 3150
Text Label 5300 3150 0    50   ~ 0
D+
Wire Wire Line
	5800 2850 5050 2850
Wire Wire Line
	5050 2850 5050 2750
Wire Wire Line
	7100 3750 7600 3750
Wire Wire Line
	7100 4650 7600 4650
Wire Wire Line
	7100 3650 7600 3650
Text Label 7150 3750 0    50   ~ 0
MODESEL
$Comp
L Naquadah_Generator:State_Sensing_Conn J101
U 1 1 5EE0E8B6
P 3100 7000
F 0 "J101" H 3100 6600 50  0000 C CNN
F 1 "State_Sensing_Conn" H 3100 6700 50  0000 C CNN
F 2 "Naquadah_Generator:State_Sensing_Mother_Board_JST_Conn" H 3100 6350 50  0001 C CNN
F 3 "http://www.jst-mfg.com/product/pdf/eng/eSH.pdf" H 3100 7050 50  0001 C CNN
F 4 "455-1804-1-ND" H 3100 6650 50  0001 C CNN "Digikey Part No."
F 5 "JST Sales America Inc." H 3100 6550 50  0001 C CNN "Manufacturer Name"
F 6 "SM04B-SRSS-TB(LF)(SN)" H 3100 6450 50  0001 C CNN "Manufacturer Part No."
	1    3100 7000
	-1   0    0    1   
$EndComp
Wire Wire Line
	5350 6950 5000 6950
Wire Wire Line
	5350 6850 5000 6850
Text Label 5350 6950 2    50   ~ 0
HALLEFF3
Text Label 5350 6850 2    50   ~ 0
HALLEFF4
$Comp
L power:GND #PWR?
U 1 1 5EE2CA7B
P 5500 7250
F 0 "#PWR?" H 5500 7000 50  0001 C CNN
F 1 "GND" H 5500 7100 50  0000 C CNN
F 2 "" H 5500 7250 50  0001 C CNN
F 3 "" H 5500 7250 50  0001 C CNN
	1    5500 7250
	1    0    0    -1  
$EndComp
Wire Wire Line
	5500 7150 5000 7150
Wire Wire Line
	5500 7150 5500 7250
Wire Wire Line
	5500 7050 5000 7050
Wire Wire Line
	5500 7050 5500 6950
$Comp
L power:+5V #PWR?
U 1 1 5EE2CA85
P 5500 6950
F 0 "#PWR?" H 5500 6800 50  0001 C CNN
F 1 "+5V" H 5515 7123 50  0000 C CNN
F 2 "" H 5500 6950 50  0001 C CNN
F 3 "" H 5500 6950 50  0001 C CNN
	1    5500 6950
	1    0    0    -1  
$EndComp
$Comp
L Naquadah_Generator:State_Sensing_Conn J102
U 1 1 5EE2CA8E
P 4800 7000
F 0 "J102" H 4800 6600 50  0000 C CNN
F 1 "State_Sensing_Conn" H 4800 6700 50  0000 C CNN
F 2 "Naquadah_Generator:State_Sensing_Mother_Board_JST_Conn" H 4800 6350 50  0001 C CNN
F 3 "http://www.jst-mfg.com/product/pdf/eng/eSH.pdf" H 4800 7050 50  0001 C CNN
F 4 "455-1804-1-ND" H 4800 6650 50  0001 C CNN "Digikey Part No."
F 5 "JST Sales America Inc." H 4800 6550 50  0001 C CNN "Manufacturer Name"
F 6 "SM04B-SRSS-TB(LF)(SN)" H 4800 6450 50  0001 C CNN "Manufacturer Part No."
	1    4800 7000
	-1   0    0    1   
$EndComp
Wire Wire Line
	5800 2950 5050 2950
Wire Wire Line
	5050 2950 5050 2850
Connection ~ 5050 2850
$Comp
L Naquadah_Generator:VBUS #PWR?
U 1 1 5EE32C9A
P 5050 2750
F 0 "#PWR?" H 5050 2600 50  0001 C CNN
F 1 "VBUS" H 5050 2900 50  0000 C CNN
F 2 "" H 5050 2750 50  0001 C CNN
F 3 "" H 5050 2750 50  0001 C CNN
	1    5050 2750
	1    0    0    -1  
$EndComp
Wire Wire Line
	5800 2550 5050 2550
Wire Wire Line
	5050 2550 5050 2450
Wire Wire Line
	5800 2450 5050 2450
Connection ~ 5050 2450
Wire Wire Line
	5050 2450 5050 2350
$Comp
L Naquadah_Generator:+5V #PWR?
U 1 1 5EE39D3A
P 5050 2350
F 0 "#PWR?" H 5050 2200 50  0001 C CNN
F 1 "+5V" H 5065 2523 50  0000 C CNN
F 2 "" H 5050 2350 50  0001 C CNN
F 3 "" H 5050 2350 50  0001 C CNN
	1    5050 2350
	1    0    0    -1  
$EndComp
$Comp
L Naquadah_Generator:+5V #PWR?
U 1 1 5EE3F918
P 4100 2300
F 0 "#PWR?" H 4100 2150 50  0001 C CNN
F 1 "+5V" H 4115 2473 50  0000 C CNN
F 2 "" H 4100 2300 50  0001 C CNN
F 3 "" H 4100 2300 50  0001 C CNN
	1    4100 2300
	1    0    0    -1  
$EndComp
$Comp
L Naquadah_Generator:GND #PWR?
U 1 1 5EE3FE38
P 4100 2800
F 0 "#PWR?" H 4100 2550 50  0001 C CNN
F 1 "GND" H 4100 2650 50  0000 C CNN
F 2 "" H 4100 2800 50  0001 C CNN
F 3 "" H 4100 2800 50  0001 C CNN
	1    4100 2800
	1    0    0    -1  
$EndComp
$Comp
L Naquadah_Generator:C C?
U 1 1 5EE403A0
P 4100 2550
F 0 "C?" H 3950 2450 50  0000 L CNN
F 1 "0.1uF" H 3850 2650 50  0000 L CNN
F 2 "" H 4138 2400 50  0001 C CNN
F 3 "~" H 4100 2550 50  0001 C CNN
	1    4100 2550
	-1   0    0    1   
$EndComp
Wire Wire Line
	4100 2700 4100 2800
Wire Wire Line
	4100 2300 4100 2400
$Comp
L Naquadah_Generator:+5V #PWR?
U 1 1 5EE46087
P 3600 2300
F 0 "#PWR?" H 3600 2150 50  0001 C CNN
F 1 "+5V" H 3615 2473 50  0000 C CNN
F 2 "" H 3600 2300 50  0001 C CNN
F 3 "" H 3600 2300 50  0001 C CNN
	1    3600 2300
	1    0    0    -1  
$EndComp
$Comp
L Naquadah_Generator:GND #PWR?
U 1 1 5EE4608D
P 3600 2800
F 0 "#PWR?" H 3600 2550 50  0001 C CNN
F 1 "GND" H 3600 2650 50  0000 C CNN
F 2 "" H 3600 2800 50  0001 C CNN
F 3 "" H 3600 2800 50  0001 C CNN
	1    3600 2800
	1    0    0    -1  
$EndComp
$Comp
L Naquadah_Generator:C C?
U 1 1 5EE46093
P 3600 2550
F 0 "C?" H 3450 2450 50  0000 L CNN
F 1 "1.0uF" H 3350 2650 50  0000 L CNN
F 2 "" H 3638 2400 50  0001 C CNN
F 3 "~" H 3600 2550 50  0001 C CNN
	1    3600 2550
	-1   0    0    1   
$EndComp
Wire Wire Line
	3600 2700 3600 2800
Wire Wire Line
	3600 2300 3600 2400
$Comp
L Naquadah_Generator:GND #PWR?
U 1 1 5EE499D3
P 3100 2800
F 0 "#PWR?" H 3100 2550 50  0001 C CNN
F 1 "GND" H 3100 2650 50  0000 C CNN
F 2 "" H 3100 2800 50  0001 C CNN
F 3 "" H 3100 2800 50  0001 C CNN
	1    3100 2800
	1    0    0    -1  
$EndComp
$Comp
L Naquadah_Generator:C C?
U 1 1 5EE499D9
P 3100 2550
F 0 "C?" H 2950 2450 50  0000 L CNN
F 1 "1.0uF" H 2850 2650 50  0000 L CNN
F 2 "" H 3138 2400 50  0001 C CNN
F 3 "~" H 3100 2550 50  0001 C CNN
	1    3100 2550
	-1   0    0    1   
$EndComp
Wire Wire Line
	3100 2700 3100 2800
Wire Wire Line
	3100 2200 3100 2400
$Comp
L Naquadah_Generator:GND #PWR?
U 1 1 5EE4D88E
P 2100 2800
F 0 "#PWR?" H 2100 2550 50  0001 C CNN
F 1 "GND" H 2100 2650 50  0000 C CNN
F 2 "" H 2100 2800 50  0001 C CNN
F 3 "" H 2100 2800 50  0001 C CNN
	1    2100 2800
	1    0    0    -1  
$EndComp
$Comp
L Naquadah_Generator:C C?
U 1 1 5EE4D894
P 2100 2550
F 0 "C?" H 1950 2450 50  0000 L CNN
F 1 "1.0uF" H 1850 2650 50  0000 L CNN
F 2 "" H 2138 2400 50  0001 C CNN
F 3 "~" H 2100 2550 50  0001 C CNN
	1    2100 2550
	-1   0    0    1   
$EndComp
Wire Wire Line
	2100 2700 2100 2800
Wire Wire Line
	2100 2300 2100 2400
$Comp
L Naquadah_Generator:VBUS #PWR?
U 1 1 5EE4F542
P 2100 2300
F 0 "#PWR?" H 2100 2150 50  0001 C CNN
F 1 "VBUS" H 2100 2450 50  0000 C CNN
F 2 "" H 2100 2300 50  0001 C CNN
F 3 "" H 2100 2300 50  0001 C CNN
	1    2100 2300
	1    0    0    -1  
$EndComp
Text Label 3100 2200 3    50   ~ 0
UCAP
$Comp
L Naquadah_Generator:GND #PWR?
U 1 1 5EE53061
P 2600 2800
F 0 "#PWR?" H 2600 2550 50  0001 C CNN
F 1 "GND" H 2600 2650 50  0000 C CNN
F 2 "" H 2600 2800 50  0001 C CNN
F 3 "" H 2600 2800 50  0001 C CNN
	1    2600 2800
	1    0    0    -1  
$EndComp
$Comp
L Naquadah_Generator:C C?
U 1 1 5EE53067
P 2600 2550
F 0 "C?" H 2450 2450 50  0000 L CNN
F 1 "1.0uF" H 2350 2650 50  0000 L CNN
F 2 "" H 2638 2400 50  0001 C CNN
F 3 "~" H 2600 2550 50  0001 C CNN
	1    2600 2550
	-1   0    0    1   
$EndComp
Wire Wire Line
	2600 2700 2600 2800
Wire Wire Line
	2600 2200 2600 2400
Text Label 2600 2200 3    50   ~ 0
AREF
Wire Wire Line
	5300 3850 5800 3850
Text Label 5300 3850 0    50   ~ 0
nRESET
Wire Wire Line
	3450 3900 3950 3900
Text Label 3950 3900 2    50   ~ 0
nRESET
$EndSCHEMATC
